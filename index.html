<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 ä¿¡ç”¨å¡æ¬Šç›Šç²¾ç®—</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Microsoft JhengHei", sans-serif; background-color: #f0f2f5; margin: 0; padding: 20px 10px; color: #1c1e21; }
        .container { max-width: 550px; margin: 0 auto; background: #fff; padding: 25px; border-radius: 20px; box-shadow: 0 5px 25px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: #1a73e8; margin-bottom: 5px; }
        .subtitle { text-align: center; color: #5f6368; font-size: 0.85rem; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
        .form-group { margin-bottom: 18px; }
        label { display: block; margin-bottom: 6px; font-weight: bold; font-size: 0.95rem; }
        input, select { width: 100%; padding: 14px; border: 1px solid #dadce0; border-radius: 12px; font-size: 16px; box-sizing: border-box; background: #f8f9fa; }
        
        .check-group { display: flex; flex-direction: column; gap: 10px; margin: 15px 0; }
        .checkbox-wrapper { display: flex; align-items: center; background: #e8f0fe; padding: 12px; border-radius: 12px; border: 1px solid #d2e3fc; cursor: pointer; }
        .checkbox-wrapper input { width: 22px; height: 22px; margin-right: 12px; }
        .checkbox-wrapper span { font-size: 0.9rem; color: #1967d2; font-weight: 600; }

        .cube-box { background: #f1f3f4; padding: 18px; border-radius: 15px; border: 1px solid #dee2e6; margin: 20px 0; }
        .cube-title { color: #1e8e3e; font-weight: bold; font-size: 0.9rem; margin-bottom: 10px; display: block; }

        button { width: 100%; padding: 16px; background: #1a73e8; color: #fff; border: none; border-radius: 12px; font-size: 18px; font-weight: bold; cursor: pointer; transition: 0.2s; }
        button:active { transform: scale(0.98); opacity: 0.9; }

        .result-item { display: flex; justify-content: space-between; align-items: center; padding: 18px; border: 1px solid #e8eaed; border-radius: 16px; margin-bottom: 12px; background: #fff; transition: 0.3s; }
        .result-item.best { border: 2.5px solid #34a853; background: #f6ffed; }
        .card-name { font-weight: 800; font-size: 1.1rem; margin-bottom: 3px; }
        .card-note { font-size: 0.8rem; color: #70757a; }
        .card-val { text-align: right; color: #1a73e8; font-size: 1.5rem; font-weight: 900; }
        .best .card-val { color: #1e8e3e; }
        .badge { display: inline-block; font-size: 0.7rem; padding: 2px 8px; border-radius: 6px; font-weight: bold; margin-bottom: 5px; }
        .bg-blue { background: #d2e3fc; color: #1967d2; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ¯ 2026 ä¿¡ç”¨å¡æ¬Šç›Šç²¾ç®—</h2>
    <div class="subtitle">åœ‹æ³° CUBE / å¯Œé‚¦ Open Possible / è¯é‚¦å‰é¶´å¡</div>

    <div class="form-group">
        <label>ğŸ’° æ¶ˆè²»é‡‘é¡ (TWD)</label>
        <input type="number" id="amount" value="3000" inputmode="numeric">
    </div>

    <div class="form-group">
        <label>ğŸ“ æ¶ˆè²»å ´æ™¯ (2026 æœ€æ–°ç‰ˆ)</label>
        <select id="scenario">
            <optgroup label="ğŸ“¡ é›»ä¿¡/AI å·¥å…· (å¯Œé‚¦å¼·é …)">
                <option value="FB_5G">å°ç£å¤§å“¥å¤§ 5G é›»ä¿¡è²»</option>
                <option value="FB_AI">æŒ‡å®š AI å·¥å…· (ChatGPT/Gemini/Perplexity)</option>
                <option value="FB_4G">å°ç£å¤§å“¥å¤§ 4G / å…¶ä»–é›»ä¿¡</option>
                <option value="FB_Taobao">æ·˜å¯¶ Taobao / å¤©è²“ç¶²è³¼</option>
            </optgroup>
            <optgroup label="ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ—…éŠ">
                <option value="JP_ApplePay">æ—¥æœ¬ - Apple Pay (QUICPay)</option>
                <option value="JP_Card">æ—¥æœ¬ - å¯¦é«”å¡åˆ·å¡</option>
            </optgroup>
            <optgroup label="ğŸ‡°ğŸ‡· éŸ“åœ‹èˆ‡æµ·å¤–">
                <option value="KR_Physical">éŸ“åœ‹ - å¯¦é«”åº—é¢</option>
                <option value="Overseas_Online">æµ·å¤– App å„²å€¼ (å¦‚ T-money)</option>
                <option value="Overseas_General">å…¶ä»–æµ·å¤–å¯¦é«”æ¶ˆè²»</option>
            </optgroup>
            <optgroup label="ğŸ‡¹ğŸ‡¼ åœ‹å…§æ—¥å¸¸">
                <option value="TW_LinePay">LINE Pay æ”¯ä»˜ (åœ‹å…§)</option>
                <option value="TW_Dining">é¤å»³ç¾é£Ÿ / ç™¾è²¨è³¼ç‰©</option>
                <option value="TW_Gas">åŠ æ²¹ (ä¸­æ²¹ç›´ç‡Ÿ/å°å¡‘)</option>
                <option value="TW_General">ä¸€èˆ¬æ¶ˆè²» (å„²å€¼/ç¨…è²»)</option>
            </optgroup>
        </select>
    </div>

    <div class="check-group">
        <label class="checkbox-wrapper">
            <input type="checkbox" id="fbThres" checked>
            <span>âš¡ å¯Œé‚¦ OP å¡æœ¬æœˆå·²åˆ·æ»¿ $5,000 (å•Ÿå‹•åŠ ç¢¼)</span>
        </label>
        <label class="checkbox-wrapper" style="background: #e6fffa; border-color: #b2f2bb;">
            <input type="checkbox" id="isNewbie">
            <span>ğŸ æˆ‘æ˜¯æ–°æˆ¶ (äº«å¯Œé‚¦é¦–åˆ·ç¦®/åŠ ç¢¼)</span>
        </label>
    </div>

    <div class="cube-box">
        <span class="cube-title">ğŸŒ² åœ‹æ³° CUBE æ–¹æ¡ˆè¨­å®š</span>
        <select id="cubePlan">
            <option value="Select">é›†ç²¾é¸ (å°å“¥å¤§/åŠ æ²¹/å…¨è¯)</option>
            <option value="Travel">è¶£æ—…è¡Œ (æµ·å¤–å¯¦é«”/åœ‹å…§äº¤é€š)</option>
            <option value="Payment">ä¾†æ”¯ä»˜ (LINE Pay å°ˆç”¨)</option>
            <option value="Digital">ç©æ•¸ä½ (ç¶²è³¼/AIå·¥å…·)</option>
        </select>
    </div>

    <button onclick="calculate()">ğŸš€ è¨ˆç®—æœ€ä½³å›é¥‹</button>

    <div id="results" style="margin-top:25px;"></div>
</div>

<script>
    function calculate() {
        const amt = parseFloat(document.getElementById('amount').value);
        const sce = document.getElementById('scenario').value;
        const plan = document.getElementById('cubePlan').value;
        const fbThres = document.getElementById('fbThres').checked;
        const isNewbie = document.getElementById('isNewbie').checked;

        let isForeign = sce.includes("JP") || sce.includes("KR") || sce.includes("Overseas") || sce === "FB_Taobao";
        let fee = isForeign ? 0.015 : 0;
        let res = [];

        // --- 1. å¯Œé‚¦ Open Possible (2026/01/01 ç‰ˆ) ---
        let fbRate = 0.01; 
        let fbNote = "ä¸€èˆ¬æ¶ˆè²» (1%)";
        if (fbThres) {
            if (sce === "FB_5G") { fbRate = 0.035; fbNote = "5G é›»ä¿¡åŠ ç¢¼ (3.5%)"; }
            else if (sce === "FB_4G") { fbRate = 0.02; fbNote = "4G é›»ä¿¡åŠ ç¢¼ (2%)"; }
            else if (sce === "FB_AI") { fbRate = 0.02; fbNote = "AI å·¥å…·æŒ‡å®šå›é¥‹ (2%)"; }
            else if (sce === "FB_Taobao") { fbRate = 0.02; fbNote = "æ·˜å¯¶/å¤©è²“åŠ ç¢¼ (2%)"; }
            else if (sce === "TW_Gas") { fbRate = 0.02; fbNote = "è¡Œè»ŠåŠ æ²¹åŠ ç¢¼ (2%)"; }
            else if (isForeign) { fbRate = 0.02; fbNote = "æµ·å¤–ä¸€èˆ¬åŠ ç¢¼ (2%)"; }
        }
        let fbProfit = Math.round(amt * (fbRate - fee));
        if (isNewbie && amt >= 5000) fbProfit += 400; // ç°¡åŒ–é¦–åˆ·ç¦®é‚è¼¯
        res.push({ name: "å¯Œé‚¦ Open Possible", val: fbProfit, note: fbNote, rate: fbRate });

        // --- 2. åœ‹æ³° CUBE å¡ (2026 H1) ---
        let cbRate = 0.003; 
        let cbNote = "ä¸€èˆ¬å›é¥‹ (0.3%)";
        if (plan === "Select" && (sce === "FB_5G" || sce === "FB_4G" || sce === "TW_Gas")) { cbRate = 0.03; cbNote = "é›†ç²¾é¸ (3%)"; }
        else if (plan === "Travel" && (sce.includes("Physical") || sce === "Overseas_General")) { cbRate = 0.03; cbNote = "è¶£æ—…è¡Œ (3%)"; }
        else if (plan === "Payment" && sce === "TW_LinePay") { cbRate = 0.03; cbNote = "ä¾†æ”¯ä»˜ (3%)"; }
        else if (plan === "Digital" && (sce === "FB_AI" || sce === "Overseas_Online")) { cbRate = 0.03; cbNote = "ç©æ•¸ä½ (3%)"; }
        
        res.push({ name: "åœ‹æ³° CUBE å¡", val: Math.round(amt * (cbRate - fee)), note: cbNote, rate: cbRate });

        // --- 3. è¯é‚¦å‰é¶´å¡ (2026 H1) ---
        let jhRate = 0.01; 
        let jhNote = "åœ‹å…§ä¸€èˆ¬ (1%)";
        if (sce === "JP_ApplePay") { jhRate = 0.04; jhNote = "æ—¥æœ¬ ApplePay (4%)"; }
        else if (sce === "JP_Card") { jhRate = 0.025; jhNote = "æ—¥æœ¬ä¸€èˆ¬åˆ·å¡ (2.5%)"; }
        res.push({ name: "è¯é‚¦å‰é¶´å¡", val: Math.round(amt * (jhRate - fee)), note: jhNote, rate: jhRate });

        // æ’åº
        res.sort((a,b) => b.val - a.val);

        const div = document.getElementById('results');
        div.innerHTML = "";
        res.forEach((item, i) => {
            const isBest = i === 0 && item.val > 0;
            div.innerHTML += `
                <div class="result-item ${isBest ? 'best' : ''}">
                    <div>
                        <span class="badge bg-blue">${(item.rate*100).toFixed(1)}% å›é¥‹</span>
                        <div class="card-name">${isBest ? 'ğŸ‘‘ ' : ''}${item.name}</div>
                        <div class="card-note">${item.note}</div>
                    </div>
                    <div class="card-val">$${item.val}</div>
                </div>`;
        });
    }
</script>
</body>
</html>